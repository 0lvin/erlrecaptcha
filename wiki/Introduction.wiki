===Introduction on English===
Full web-api for recaptcha you can found in [http://recaptcha.net/apidocs/captcha/ API].
For using needed mochiweb_util  from http://code.google.com/p/mochiweb/. Before using please start inets(inets:start()).

Example using:
 # recaptcha:genCaptcha(Public key from recaptcha.net) - returned part html code. This part you must to  your html-form.
 # recaptcha:getResult(Private key from recaptcha.net, client ip,Recaptchachallenge(key returned from form in recaptcha_challenge_field),Recaptcharesponse(key returned from form in recaptcha_response_field)) - returned:
 * {ok} - all right, 
 * {error,"Error message"} - test failed.

===Some help===
For receive client ip you can use this code:
* Yaws
getIp(A) ->
    Peer = if
               tuple(A#arg.clisock),
               element(1, A#arg.clisock) == sslsocket ->
                   ssl:peername(A#arg.clisock);
               true ->
                   inet:peername(A#arg.clisock)
           end,
    {ok,{IP,_}} = Peer,
    {IP1,IP2,IP3,IP4} = IP,
    integer_to_list(IP1) ++ "." ++
    integer_to_list(IP2) ++ "." ++
    integer_to_list(IP3) ++ "." ++
    integer_to_list(IP4).

IP received from client socket by A#arg.clisock, where A is #arg record received from yaws. Some exapmle for use yaws you can found [http://yaws.hyber.org/simple.yaws on this link].

* Mochiweb (Thanks for the solution [http://kenpratt.net Ken Pratt])

getIp(Req) ->
 Req:get(peer).

Example for use [http://code.google.com/p/mochiweb/ mochiweb] you can found [http://www.rsaccon.com/2007/09/mochiweb-erlang-based-webserver-toolkit.html on this page].

===Общее описание===
Система [http://recaptcha.net/apidocs/captcha/ Recaptcha] предназначена для выполнения теста Turing относительно пользователей системы. Проверка проводиться через просьбу пользователя ввести 2 слова отображённых на картинке или при желании произнесённых в медиа файле. Из этих 2 слов одно является уже распознанным ранее словом и одно которое не удалось распознать системе OCR. Пользователи вводя эти слова позволяют хоть медленно преобразовывать не распознанные слова для ранее напечатанных книг. Как результат одно слово реально проверяется (100% известно что это за слово) относительно второго существует только статистическая информация как пользователи его распознают - затем эти данные используются для распознания книг.

===Использование===
 # Для использования нужно зайти на сайт admin.recaptcha.net и зарегистрироваться и указать для какого сайта вы хотите добавить проверку. Нужно указывать реальное имя или домен - ответы проверяются на соответствие с доменом пользователя. После регистрации получаем 2 ключа публичный и закрытый.
 # В страницу сайта добавляем скрипт указанный в документации с добавлением в него публичного ключа.
 # В параметры ответа в результате добавляются 2 параметра recaptcha_response_field(ответ пользователя) и recaptcha_challenge_field(код теста).
 # Для проверки ответа отправляем на сайт http://api-verify.recaptcha.net/verify эти 2 параметра плюс закрытый ключ и ип клиента. В ответ нам присылаются 2 строки в первой true или false в зависимости от результатов проверки и описание результатов. Желательно в качестве ip всегда передавать ip клиента - если всегда передавать один ip сайт может заблокировать обработку посчитав что осуществляется попытка подбора значений.

Пример использования кода:
 # recaptcha:genCaptcha(Открытый ключ выданный на сайте recaptcha) - возвращает кусок кода для добавления в html страницу. 
 # recaptcha:getResult(Закрытый ключ,Адрес c скоторого пришел запрос(IP),Recaptchachallenge(Код теста),Recaptcharesponse(ответ пользователя)) - возвращает:
 * {ok} - если удачно, 
 * {error,"Описание ошибки"} - если тест не пройден.

===Примечание: ===

Для работы требуется mochiweb_util из проекта [http://code.google.com/p/mochiweb/ Mochiweb] и перед использованием нужно запустить inets (inets:start()).